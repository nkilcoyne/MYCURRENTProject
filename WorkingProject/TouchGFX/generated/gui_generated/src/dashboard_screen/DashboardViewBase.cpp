/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/dashboard_screen/DashboardViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>
#include "stm32f7xx_hal.h"

DashboardViewBase::DashboardViewBase() :
    flexButtonCallback(this, &DashboardViewBase::flexButtonCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    boxWithBorder1.setPosition(0, 0, 480, 272);
    boxWithBorder1.setColor(touchgfx::Color::getColorFrom24BitRGB(153, 153, 153));
    boxWithBorder1.setBorderColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    boxWithBorder1.setBorderSize(5);

    StopVehicle.setBoxWithBorderPosition(0, 0, 104, 52);
    StopVehicle.setBorderSize(3);
    StopVehicle.setBoxWithBorderColors(touchgfx::Color::getColorFrom24BitRGB(255, 0, 0), touchgfx::Color::getColorFrom24BitRGB(75, 0, 0), touchgfx::Color::getColorFrom24BitRGB(37, 37, 37), touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    StopVehicle.setIconBitmaps(Bitmap(BITMAP_BLUE_ICONS_POWER_32_ID), Bitmap(BITMAP_BLUE_ICONS_POWER_32_ID));
    StopVehicle.setIconXY(37, 4);
    StopVehicle.setText(TypedText(T_SINGLEUSEID20));
    StopVehicle.setTextPosition(0, 32, 104, 52);
    StopVehicle.setTextColors(touchgfx::Color::getColorFrom24BitRGB(10, 10, 10), touchgfx::Color::getColorFrom24BitRGB(10, 10, 10));
    StopVehicle.setPosition(366, 9, 104, 52);
    StopVehicle.setAction(flexButtonCallback);

    boxWithBorder1_1.setPosition(129, 0, 223, 116);
    boxWithBorder1_1.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    boxWithBorder1_1.setBorderColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    boxWithBorder1_1.setBorderSize(5);

    CurrentSpeed.setXY(213, -12);
    CurrentSpeed.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    CurrentSpeed.setLinespacing(0);
    CurrentSpeed.setTypedText(touchgfx::TypedText(T_SINGLEUSEID13));

    mph.setXY(290, 62);
    mph.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    mph.setLinespacing(0);
    mph.setTypedText(touchgfx::TypedText(T_SINGLEUSEID14));

    circleProgress1.setXY(11, 10);
    circleProgress1.setProgressIndicatorPosition(0, 0, 104, 104);
    circleProgress1.setRange(0, 100);
    circleProgress1.setCenter(52, 52);
    circleProgress1.setRadius(50);
    circleProgress1.setLineWidth(0);
    circleProgress1.setStartEndAngle(0, 360);
    circleProgress1.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_MEDIUM_CIRCLE_INDICATOR_BG_FULL_ID));
    circleProgress1Painter.setBitmap(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_FILL_MEDIUM_CIRCLE_INDICATOR_FILL_LINE_FULL_ID));
    circleProgress1.setPainter(circleProgress1Painter);
    circleProgress1.setValue(60);

    BatteryStatus.setXY(38, 41);
    BatteryStatus.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    BatteryStatus.setLinespacing(0);
    BatteryStatus.setTypedText(touchgfx::TypedText(T_SINGLEUSEID15));

    boxProgress1.setXY(310, 136);
    boxProgress1.setProgressIndicatorPosition(2, 2, 10, 100);
    boxProgress1.setRange(0, 100);
    boxProgress1.setDirection(touchgfx::AbstractDirectionProgress::UP);
    boxProgress1.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_SMALL_PROGRESS_INDICATOR_BG_SQUARE_90_DEGREES_ID));
    boxProgress1.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 151, 255));
    boxProgress1.setValue(60);

    circleProgress2.setXY(188, 136);
    circleProgress2.setProgressIndicatorPosition(0, 0, 104, 104);
    circleProgress2.setRange(0, 127);
    circleProgress2.setCenter(52, 52);
    circleProgress2.setRadius(50);
    circleProgress2.setLineWidth(0);
    circleProgress2.setStartEndAngle(0, 360);
    circleProgress2.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_MEDIUM_CIRCLE_INDICATOR_BG_FULL_ID));
    circleProgress2Painter.setBitmap(touchgfx::Bitmap(BITMAP_DARK_PROGRESSINDICATORS_FILL_MEDIUM_CIRCLE_INDICATOR_FILL_LINE_FULL_ID));
    circleProgress2.setPainter(circleProgress2Painter);
    circleProgress2.setValue(33);

    BrakeProgress.setXY(156, 136);
    BrakeProgress.setProgressIndicatorPosition(2, 2, 10, 100);
    BrakeProgress.setRange(0, 100);
    BrakeProgress.setDirection(touchgfx::AbstractDirectionProgress::UP);
    BrakeProgress.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_SMALL_PROGRESS_INDICATOR_BG_SQUARE_90_DEGREES_ID));
    BrakeProgress.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 0, 0));
    BrakeProgress.setValue(60);

    rpmLabel.setXY(223, 168);
    rpmLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    rpmLabel.setLinespacing(0);
    rpmLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID16));

    brakingLabel.setXY(131, 240);
    brakingLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    brakingLabel.setLinespacing(0);
    brakingLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID17));

    gasLabel.setXY(300, 240);
    gasLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    gasLabel.setLinespacing(0);
    gasLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID18));

    textArea1.setXY(11, 117);
    textArea1.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(touchgfx::TypedText(T_SINGLEUSEID19));

    boxWithBorder1_1_1.setPosition(14, 139, 104, 40);
    boxWithBorder1_1_1.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    boxWithBorder1_1_1.setBorderColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    boxWithBorder1_1_1.setBorderSize(0);

    Current.setXY(36, 145);
    Current.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    Current.setLinespacing(0);
    Current.setTypedText(touchgfx::TypedText(T_SINGLEUSEID21));

    time.setPosition(351, 114, 119, 23);
    time.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    time.setTypedText(touchgfx::TypedText(T_SINGLEUSEID22));
    time.displayLeadingZeroForHourIndicator(true);
    time.setDisplayMode(touchgfx::DigitalClock::DISPLAY_12_HOUR);
    time.setTime12Hour(10, 10, 0, true);

    TimeLabel.setXY(376, 96);
    TimeLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    TimeLabel.setLinespacing(0);
    TimeLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID23));

    StopwatchLabel.setXY(395, 148);
    StopwatchLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    StopwatchLabel.setLinespacing(0);
    StopwatchLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID24));

    MotorTemperature.setXY(14, 208);
    MotorTemperature.setProgressIndicatorPosition(2, 2, 100, 10);
    MotorTemperature.setRange(0, 100);
    MotorTemperature.setDirection(touchgfx::AbstractDirectionProgress::RIGHT);
    MotorTemperature.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_SMALL_PROGRESS_INDICATOR_BG_SQUARE_0_DEGREES_ID));
    MotorTemperature.setBitmap(BITMAP_BLUE_PROGRESSINDICATORS_FILL_TILING_PROGRESS_INDICATOR_FILL_STRIPED_THIN_HORIZONTAL_ID);
    MotorTemperature.setValue(60);
    MotorTemperature.setAnchorAtZero(false);

    CellTemperature.setXY(14, 241);
    CellTemperature.setProgressIndicatorPosition(2, 2, 100, 10);
    CellTemperature.setRange(0, 100);
    CellTemperature.setDirection(touchgfx::AbstractDirectionProgress::RIGHT);
    CellTemperature.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_SMALL_PROGRESS_INDICATOR_BG_SQUARE_0_DEGREES_ID));
    CellTemperature.setBitmap(BITMAP_BLUE_PROGRESSINDICATORS_FILL_TILING_PROGRESS_INDICATOR_FILL_STRIPED_THIN_HORIZONTAL_ID);
    CellTemperature.setValue(60);
    CellTemperature.setAnchorAtZero(false);

    MotorTempLabel.setXY(10, 187);
    MotorTempLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    MotorTempLabel.setLinespacing(0);
    MotorTempLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID26));

    CellTempLabel.setXY(17, 222);
    CellTempLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    CellTempLabel.setLinespacing(0);
    CellTempLabel.setTypedText(touchgfx::TypedText(T_SINGLEUSEID27));

    add(boxWithBorder1);
    add(StopVehicle);
    add(boxWithBorder1_1);
    add(CurrentSpeed);
    add(mph);
    add(circleProgress1);
    add(BatteryStatus);
    add(boxProgress1);
    add(circleProgress2);
    add(BrakeProgress);
    add(rpmLabel);
    add(brakingLabel);
    add(gasLabel);
    add(textArea1);
    add(boxWithBorder1_1_1);
    add(Current);
    add(time);
    add(TimeLabel);
    add(StopwatchLabel);
    add(MotorTemperature);
    add(CellTemperature);
    add(MotorTempLabel);
    add(CellTempLabel);
}

void DashboardViewBase::setupScreen()
{

}

void DashboardViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &StopVehicle)
    {
        //Interaction1
        //When StopVehicle clicked change screen to Screen1
        //Go to Screen1 with screen transition towards North
    	HAL_GPIO_WritePin(GPIOI, GPIO_PIN_1, GPIO_PIN_RESET); //makes reset light go off
        application().gotoScreen1ScreenCoverTransitionNorth();
    }
}
